let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("pokemon is not correct")}async function o(t){let e=t.detailsUrl;try{const o=await fetch(e),n=await o.json();t.imageUrl=n.sprites.front_default,t.height=n.height,t.types=n.types.map((t=>t.type.name)).join(","),t.weight=n.weight}catch(t){console.error(t)}}function n(t){o(t).then((function(){!function(t){let e=$(".modal-body"),o=$(".modal-title"),n=$(".modal-header");o.empty(),e.empty();let a=$("<h1>"+t.name+"</h1>"),i=$('<img class="modal-img">');i.attr("src",t.imageUrl);let l=$("<p>Height: "+t.height+"</p>"),p=$("<p>Weight: "+t.weight+"</p>"),s=$("<p>Types: "+t.types+"</p>");n.append(a),o.append(a),e.append(i),e.append(l),e.append(p),e.append(s)}(t)}))}return{getAll:function(){return t},add:e,addListItem:function(t){let e=document.querySelector(".pokemon-list"),o=document.createElement("li"),a=document.createElement("button");a.innerText=t.name,a.classList.add("button"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),a.classList.add("btn"),o.appendChild(a),e.appendChild(o),a.addEventListener("click",(function(e){n(t)}))},loadList:async function(){try{const t=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150");(await t.json()).results.forEach((function(t){let o={name:t.name,detailsUrl:t.url};e(o),console.log(o)}))}catch(t){console.error(t)}},loadDetails:o,showDetails:n}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(t){pokemonRepository.addListItem(t)}))}));